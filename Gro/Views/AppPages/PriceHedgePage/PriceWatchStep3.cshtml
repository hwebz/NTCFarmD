@using System.Globalization
@using EPiServer.Editor
@using Gro.Core.ContentTypes.Utils
@using Gro.Helpers
@model Gro.ViewModels.Pages.AppPages.PurchasingAgreement.PriceHedgeViewModel
@{
    var agreementType = Model.PriceHedgeForm.AgreementType;
}
<section class="lm__contents">
    <div class="wrapper">
        <div class="layout layout--large">
            <div class="layout__item u-1/1-tablet u-2/3-desktop">
                <div class="lm__block redigera-block">
                    <div class="lm__add-user__wrapper">
                        <div class="lm__breadcrums">
                            <div class="lm__step-inform">
                                <h2 class="heading-title">Steg 3</h2>
                                <h3 class="heading-title-2">Bekräftelse</h3>
                            </div>
                            <ul class="lm__form-progress">
                                <span class="lm__form-progress__line"></span>
                                <li class="done"><a href="#">1</a></li>
                                <li class="done"><a href="#">2</a></li>
                                <li class="active"><a href="#">3</a></li>
                            </ul>
                        </div>
                        <form action="#" method="post" class="lm__add-user-form author-inform-form">
                            <div class="author-inform-form__input">
                                <div class="layout">
                                    <div class="layout__item u-1/1 ">
                                        @if (agreementType.IsMemberOfList(AgreementType.SportAndForwardAvtal, AgreementType.PrissakringDepaavtal))
                                        {
                                        <h2 class="heading-title-2">Prisuppdraget är registrerat</h2>
                                        }
                                        else if (agreementType.Equals(AgreementType.Poolavtal))
                                        {
                                        <h2 class="heading-title-2">Poolavtalet är registrerat</h2>
                                        }
                                        else if (agreementType.Equals(AgreementType.Depaavtal))
                                        {
                                        <h2 class="heading-title-2">Depåavtalet är registrerat</h2>
                                        }
                                    </div>

                                    <div class="layout__item u-1/1">
                                        <p></p>
                                        @Html.Raw(Model.ConfiramtionText)
                                   </div>
                                </div>

                                <div class="layout u-align-right">
                                    @if (agreementType.IsMemberOfList(AgreementType.SportAndForwardAvtal, AgreementType.PrissakringDepaavtal))
                                    {
                                        if (agreementType.Equals(AgreementType.SportAndForwardAvtal))
                                        {
                                            <div class="layout__item u-1/1 u-1/1-tablet  u-1/3-desktop ">
                                                <a href="@Model.PurchaseAgreementUrl" class="author-inform-form__btn width-100">
                                                    Skapa ny prisbevakning
                                                </a>
                                            </div>
                                        }
                                        <div class="layout__item u-1/1 u-1/1-tablet  u-1/4-desktop lm__float-right-element">
                                            <a class="author-inform-form__btn width-100" href="@Url.ContentUrl(Model.CurrentPage.PriceAlertPage)">
                                                Till prisuppdrag
                                            </a>
                                        </div>
                                    }
                                    else if (agreementType.IsMemberOfList(AgreementType.Poolavtal, AgreementType.Depaavtal))
                                    {
                                        <div class="layout__item u-1/1 u-1/1-tablet  u-1/4-desktop lm__float-right-element">
                                            <a class="author-inform-form__btn width-100" href="@Model.PurchaseAgreementUrl">
                                                Till förstasidan
                                            </a>
                                        </div>
                                    }
                                </div>
                                <div class="clearfix"></div>

                            </div>
                        </form>
                    </div>
                </div>

            </div>
        </div>
    </div>
</section>


@if (!PageEditing.PageIsInEditMode && TempData["Error"] != null && (bool)TempData["Error"])
{
    <!-- Modal for showing error or information after event -->
    <div class="lm__modal__wrapper">
        <div class="mask"></div>
        <div class="lm__wide-modal">
            <h3 class="lm__wide-modal__title"></h3>
            <p>Felmeddelande!</p>
            <div class="lm__wide-modal__close-btn">
                <a href=""></a>
            </div>
        </div>
    </div>
}
