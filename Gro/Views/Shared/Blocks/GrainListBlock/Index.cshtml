@model Gro.ViewModels.Blocks.AgreementListBlockViewModel
@using Gro.Helpers;
<!-- News detail stylesheet -->
<div class="lm__block mina-invagningar-graph-block">
    <div class="lm__block-header">
        <h1>@Model.CurrentBlock.Heading</h1>
    </div>
    <section class="lm__news">
        <div class="layout layout--large">
            @{
                if (Model.ListAgreementsDeliverys != null)
                {
                    foreach (var agreement in Model.ListAgreementsDeliverys)
                    {
                        var percent = (int)(((float)agreement.DeliveredQuantity / (float)agreement.AgreementQuantity) * 100);
                        var percentText = percent.ToString() + "%";
                        <div class="layout__item u-1/1 u-1/3-mobile">
                            <article class="lm__news-item">
                                <div class="circle-progress" data-dimension="200" data-text="@percentText" data-fontsize="40" data-percent="@percent" data-fgcolor="#ffffff" data-bgcolor="#0090c6" data-bordersize="3" data-animationstep="1"></div>
                                <div class="text-description">
                                    <h4 class="mina-title">@agreement.ItemName</h4>
                                    <p class="mina-summary">@(agreement.DeliveredQuantity/1000) / @(agreement.AgreementQuantity/1000) ton</p>
                                    <h4 class="mina-title">@agreement.AgreementNumber</h4>
                                </div>
                            </article>
                        </div>
                    }
                }
            }
        </div>
    </section>
    <a href="@Url.ContentUrl(Model.CurrentBlock.ArchivePage)" class="lm__more-link align-right-text">@Model.CurrentBlock.LinkText<i class="fa fa-long-arrow-right" aria-hidden="true"></i></a>
</div>
